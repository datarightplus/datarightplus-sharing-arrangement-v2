<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>DataRight+: Sharing Arrangement V2</title>
<meta content="Stuart Low" name="author">
<meta content="Ben Kolera" name="author">
<meta content="
       This specification outlines the technical requirements related to the delivery of an enhanced establishment process for data sharing arrangements under DataRight+ and the Consumer Data Right. 
       Sharing Arrangement V2 is intended to be the next evolution of   and incorporates modern and international standards aligned practices to achieve like for like outcomes. This specification takes significant inspiration from the   specification and the original intent based pattern first presented within the UK Open Banking scheme. 
    " name="description">
<meta content="xml2rfc 3.23.0" name="generator">
<meta content="draft-authors-datarightplus-sharing-arrangement-v2-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.23.0
    Python 3.12.3
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-authors-datarightplus-sharing-arrangement-v2.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">DataRight+: Sharing Arrangement V2</td>
<td class="right">September 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Low &amp; Kolera</td>
<td class="center">Expires 6 March 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">datarightplus</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-authors-datarightplus-sharing-arrangement-v2-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-09-02" class="published">2 September 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-03-06">6 March 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Low</div>
<div class="org">Biza.io</div>
</div>
<div class="author">
      <div class="author-name">B. Kolera</div>
<div class="org">Biza.io</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">DataRight+: Sharing Arrangement V2</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This specification outlines the technical requirements related to the delivery of an enhanced establishment process for data sharing arrangements under DataRight+ and the Consumer Data Right.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Sharing Arrangement V2 is intended to be the next evolution of <span>[<a href="#DATARIGHTPLUS-SHARING-ARRANGEMENT-V1-00" class="cite xref">DATARIGHTPLUS-SHARING-ARRANGEMENT-V1-00</a>]</span> and incorporates modern and international standards aligned practices to achieve like for like outcomes. This specification takes significant inspiration from the <span>[<a href="#FAPI-GRANT-MANAGEMENT" class="cite xref">FAPI-GRANT-MANAGEMENT</a>]</span> specification and the original intent based pattern first presented within the UK Open Banking scheme.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-notational-conventions">
<a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
      </h2>
<p id="section-note.1-1">The keywords  "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>",  "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 6 March 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-scope" class="internal xref">Scope</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terms-definitions" class="internal xref">Terms &amp; Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-high-level-process" class="internal xref">High Level Process</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-provider" class="internal xref">Provider</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-authorisation-server" class="internal xref">Authorisation Server</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-request-object" class="internal xref">Request Object</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-claims" class="internal xref">Claims</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="auto internal xref">4.1.3</a>.  <a href="#name-cdr-arrangement-v1-compatib" class="internal xref">CDR Arrangement V1 Compatibility</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-resource-server" class="internal xref">Resource Server</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-initiator" class="internal xref">Initiator</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-authorisation-client" class="internal xref">Authorisation Client</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-implementation-consideratio" class="internal xref">Implementation Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="scope">
<section id="section-1">
      <h2 id="name-scope">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-scope" class="section-name selfRef">Scope</a>
      </h2>
<p id="section-1-1">The scope of this specification is focused on describing the authorisation related components of establishing an authentication and authorisation context for data sharing under the DataRight+ framework.  This specification achieves the same objectives as those prescribed within <span>[<a href="#CDS" class="cite xref">CDS</a>]</span> but avoids the ecosystem specific components in favour of a more extensible and international standards aligned mechanisms.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terms-definitions">
<section id="section-2">
      <h2 id="name-terms-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms-definitions" class="section-name selfRef">Terms &amp; Definitions</a>
      </h2>
<p id="section-2-1">This specification uses the terms "Agreement Identifier", Consumer", "Provider", "Initiator", "Personally Identifiable Information (PII)",
"Pairwise Pseudonymous Identifier (PPID)", "Initiator", "CDR Sharing Arrangement" and "CDR Sharing Agreement Identifier"  as defined by <span>[<a href="#DATARIGHTPLUS-ROSETTA" class="cite xref">DATARIGHTPLUS-ROSETTA</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-2-2">
        <dt id="section-2-2.1">Action Identifier</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.2">A unique and discrete identifier for a given action, typically lodged at a resource server endpoint.<a href="#section-2-2.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="high-level-process">
<section id="section-3">
      <h2 id="name-high-level-process">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-high-level-process" class="section-name selfRef">High Level Process</a>
      </h2>
<p id="section-3-1">This document, as extended further in OpenAPI format within <span>[<a href="#DATARIGHTPLUS-REDOCLY-ID2" class="cite xref">DATARIGHTPLUS-REDOCLY-ID2</a>]</span>, describes the endpoints to deliver the Sharing Arrangement V2 capability. The current approach to data sharing within the Consumer Data Right is brittle and does not provide sufficient feedback as to the status of sharing requests as they are handed over from Initiator to the Provider. The existing sharing establishment process also assumes a live establishment rather than a potentially asynchronous, back-channel or machine to machine (IoT) authorisation approach.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">At a high level the process expected to be followed through the implementation of this specification is:<a href="#section-3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-3-3">
<li id="section-3-3.1">Initiator utilises a client credentials grant to obtain a token from the Provider;<a href="#section-3-3.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-3.2">Initiator calls the Request Sharing Agreement endpoint and obtains an <code>actionId</code> in the initial status of <code>PENDING</code>;<a href="#section-3-3.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-3.3">Initiator submits a pushed authorisation request with a Request Object containing the <code>urn:dio:action_id</code> parameter with a value equal to the <code>actionId</code> returned in (2)<a href="#section-3-3.3" class="pilcrow">¶</a>
</li>
        <li id="section-3-3.4">Initiator redirects the Consumer user-agent to complete the authorisation process<a href="#section-3-3.4" class="pilcrow">¶</a>
</li>
        <li id="section-3-3.5">
          <p id="section-3-3.5.1">On completion of the authorisation process:<a href="#section-3-3.5.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-3-3.5.2">
<li id="section-3-3.5.2.1">the Provider, if not already assigned, assigns an <code>agreementId</code> to the associated <code>actionId</code><a href="#section-3-3.5.2.1" class="pilcrow">¶</a>
</li>
            <li id="section-3-3.5.2.2">the Initiator performs <code>authorization_code</code> token exchange to access the Provider Resource Server resources<a href="#section-3-3.5.2.2" class="pilcrow">¶</a>
</li>
          </ol>
</li>
      </ol>
<p id="section-3-4"><em>Note:</em> At any time before, during or after the authorisation process the Initiator can use the Get Sharing Agreement endpoint provided by the Resource Server utilising the obtained <code>actionId</code>.<a href="#section-3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="provider">
<section id="section-4">
      <h2 id="name-provider">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-provider" class="section-name selfRef">Provider</a>
      </h2>
<p id="section-4-1">The following provisions apply to services delivered by Providers.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="authorisation-server">
<section id="section-4.1">
        <h3 id="name-authorisation-server">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-authorisation-server" class="section-name selfRef">Authorisation Server</a>
        </h3>
<p id="section-4.1-1">In addition to the provisions outlined in <span>[<a href="#DATARIGHTPLUS-INFOSEC-BASELINE" class="cite xref">DATARIGHTPLUS-INFOSEC-BASELINE</a>]</span> the authorisation server:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.1-2">
<li id="section-4.1-2.1">
            <span class="bcp14">SHALL</span> support the <code>dio:sharing</code> authorisation scope;<a href="#section-4.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-2.2">
            <span class="bcp14">SHALL</span> include the <code>dio:sharing</code> authorisation scope within Dynamic Client Registration responses;<a href="#section-4.1-2.2" class="pilcrow">¶</a>
</li>
        </ol>
<div id="request-object">
<section id="section-4.1.1">
          <h4 id="name-request-object">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-request-object" class="section-name selfRef">Request Object</a>
          </h4>
<p id="section-4.1.1-1">The request object submitted to the authorisation server:<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.1.1-2">
<li id="section-4.1.1-2.1">
              <span class="bcp14">SHALL</span> support an optional string parameter <code>urn:dio:action_id</code> referencing a valid [Action Identifier];<a href="#section-4.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-4.1.1-2.2">
              <span class="bcp14">SHALL</span> reject requests containing a <code>urn:dio:action_id</code> parameter that is unknown, expired or not associated with the requesting Initiator;<a href="#section-4.1.1-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<div id="example">
<section id="section-4.1.1.1">
            <h5 id="name-example">
<a href="#section-4.1.1.1" class="section-number selfRef">4.1.1.1. </a><a href="#name-example" class="section-name selfRef">Example</a>
            </h5>
<p id="section-4.1.1.1-1">The following is a non-normative example of a decoded request object requesting authorisation for a previously lodged <code>actionId</code><a href="#section-4.1.1.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.1.1.1-2">
<pre>{
  "iss": "33ff17d6-d967-4823-a4d3-1206fd2fff3f",
  "exp": 1725090872,
  "nbf": 1725090872,
  "aud": "https://www.provider.com.au",
  "response_type": "code",
  "response_mode": "jwt",
  "client_id": "33ff17d6-d967-4823-a4d3-1206fd2fff3f",
  "redirect_uri": "https://www.recipient.com.au/coolstuff",
  "scope": "openid",
  "claims": {
    "urn:dio:action_id": "496a3ba7-04b4-4362-b775-9e0433e48eea",
    "id_token": {
      "acr": {
        "essential": true,
        "values": ["urn:cds.au:cdr:3"]
      }
    },
    "userinfo": {
      "given_name": null,
      "family_name": null
    }
  },
  "code_challenge": "rerbvXfTDYNECzwayM8-SLCWU1FDzBnqMCv1RB5AudU",
  "code_challenge_method": "S256"
}

</pre><a href="#section-4.1.1.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="claims">
<section id="section-4.1.2">
          <h4 id="name-claims">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-claims" class="section-name selfRef">Claims</a>
          </h4>
<p id="section-4.1.2-1">The authorisation server:<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.1.2-2">
<li id="section-4.1.2-2.1">
              <p id="section-4.1.2-2.1.1"><span class="bcp14">SHALL</span> include within the Introspection Endpoint response:<a href="#section-4.1.2-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.1.2-2.1.2">
<li id="section-4.1.2-2.1.2.1">the <code>exp</code> claim, with a value equal to the expiry time of the underlying Sharing Agreement and;<a href="#section-4.1.2-2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-4.1.2-2.1.2.2">the <code>urn:dio:action_id</code> claim, containing the assigned [Action Identifier];<a href="#section-4.1.2-2.1.2.2" class="pilcrow">¶</a>
</li>
              </ol>
</li>
          </ol>
</section>
</div>
<div id="cdr-arrangement-v1-compatibility">
<section id="section-4.1.3">
          <h4 id="name-cdr-arrangement-v1-compatib">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-cdr-arrangement-v1-compatib" class="section-name selfRef">CDR Arrangement V1 Compatibility</a>
          </h4>
<p id="section-4.1.3-1">In order to maximise backward compatibility and facilitate orderly transition for endpoints already implemented the Authorisation Server <span class="bcp14">SHALL</span> ensure that the following authorisation scopes are mapped to Data Cluster values which are successfully authorised:<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
            <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">
                  <code>EnumDataClusterV1</code> Value</th>
                <th class="text-left" rowspan="1" colspan="1">Authorization Scope</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>OPENID</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>openid</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>PROFILE</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>profile</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>BANK_ACCOUNTS_BASIC_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>bank:accounts.basic:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>BANK_ACCOUNTS_DETAIL_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>bank:accounts.detail:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>BANK_TRANSACTIONS_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>bank:transactions:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>BANK_REGULAR_PAYMENTS_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>bank:regular_payments:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>BANK_PAYEES_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>bank:payees:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ACCOUNTS_BASIC_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:accounts.basic:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ACCOUNTS_DETAIL_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:accounts.detail:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ACCOUNTS_CONCESSIONS_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:accounts.concessions:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ACCOUNTS_PAYMENTSCHEDULE_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:accounts.paymentschedule:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_BILLING_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:billing:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ELECTRICITY_SERVICEPOINTS_BASIC_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:electricity.servicepoints.basic:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ELECTRICITY_SERVICEPOINTS_DETAIL_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:electricity.servicepoints.detail:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ELECTRICITY_DER_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:electricity.der:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ENERGY_ELECTRICITY_USAGE_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>energy:electricity.usage:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>COMMON_CUSTOMER_BASIC_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>common:customer.basic:read</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>COMMON_CUSTOMER_DETAIL_READ</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>common:customer.detail:read</code>
</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
<div id="resource-server">
<section id="section-4.2">
        <h3 id="name-resource-server">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-resource-server" class="section-name selfRef">Resource Server</a>
        </h3>
<p id="section-4.2-1">The Provider Resource Server:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.2-2">
<li id="section-4.2-2.1">
            <span class="bcp14">SHALL</span> support the <code>requestDataSharingAgreement</code> and <code>getDataSharingAgreement</code> endpoints as described in <span>[<a href="#DATARIGHTPLUS-REDOCLY-ID2" class="cite xref">DATARIGHTPLUS-REDOCLY-ID2</a>]</span>;<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-2.2">
            <span class="bcp14">SHALL</span> support <span>[<a href="#DATARIGHTPLUS-DISCOVERY-V1-01" class="cite xref">DATARIGHTPLUS-DISCOVERY-V1-01</a>]</span> and advertise the <code>requestDataSharingAgreement</code> and <code>getDataSharingAgreement</code> endpoints<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-2.3">
            <span class="bcp14">SHALL</span> support providing an existing <code>agreementId</code> in order to extend an existing agreement in subsequent Request Sharing Agreement requests<a href="#section-4.2-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-2.4">
            <span class="bcp14">MAY</span> support Consumer Type (<code>consumerType</code>) authorisation filtering and, if supported, include the <code>SUPPORTS_CONSUMER_TYPE</code> flag at the <code>requestDataSharingAgreement</code> endpoint<a href="#section-4.2-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-4.2-2.5">
            <span class="bcp14">MAY</span> support record filtering by date (<code>oldestDate</code>/<code>newestDate</code>) and, if supported, include the <code>SUPPORTS_DATE_FILTER</code> flag at the <code>requestDataSharingAgreement</code> endpoint<a href="#section-4.2-2.5" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="initiator">
<section id="section-5">
      <h2 id="name-initiator">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-initiator" class="section-name selfRef">Initiator</a>
      </h2>
<p id="section-5-1">The following provisions apply to participants operating Initiators.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="authorisation-client">
<section id="section-5.1">
        <h3 id="name-authorisation-client">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-authorisation-client" class="section-name selfRef">Authorisation Client</a>
        </h3>
<p id="section-5.1-1">In addition to the provisions outlined in Section 4 of <span>[<a href="#DATARIGHTPLUS-INFOSEC-BASELINE" class="cite xref">DATARIGHTPLUS-INFOSEC-BASELINE</a>]</span> the Initiator authorisation client:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-5.1-2">
<li id="section-5.1-2.1">
            <span class="bcp14">SHALL</span> support the Initiator provisions of <span>[<a href="#DATARIGHTPLUS-DISCOVERY-V1-01" class="cite xref">DATARIGHTPLUS-DISCOVERY-V1-01</a>]</span> to discover the <code>getDataSharingAgreement</code> and <code>requestDataSharingAgreement</code> endpoints;<a href="#section-5.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.2">
            <span class="bcp14">SHALL</span> perform a Dynamic Client Registration update, as described in <span>[<a href="#DATARIGHTPLUS-ADMISSION-CONTROL-00" class="cite xref">DATARIGHTPLUS-ADMISSION-CONTROL-00</a>]</span>, to be granted access to the <code>dio:sharing</code> scope;<a href="#section-5.1-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.3">
            <span class="bcp14">SHALL</span> only include optional Request Sharing Agreement parameters if they are advertised within the Provider discovery document<a href="#section-5.1-2.3" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="implementation-considerations">
<section id="section-6">
      <h2 id="name-implementation-consideratio">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-implementation-consideratio" class="section-name selfRef">Implementation Considerations</a>
      </h2>
<p id="section-6-1">This specification does not explicitly state how long an assigned Action Identifier persists for however it is expected that an Initiator shall be able to reference an Action Identifier while the associated authorisation is still active and for a significant period (more than a year) after it becomes inactive.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">The Action Identifier <span class="bcp14">SHALL NOT</span> be guessable, derivable nor identify the Consumer.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-normative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="CDS">[CDS]</dt>
      <dd>
<span class="refAuthor">Data Standards Body (Treasury)</span>, <span class="refTitle">"Consumer Data Standards (CDS)"</span>, <span>&lt;<a href="https://consumerdatastandardsaustralia.github.io/standards">https://consumerdatastandardsaustralia.github.io/standards</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-ADMISSION-CONTROL-00">[DATARIGHTPLUS-ADMISSION-CONTROL-00]</dt>
      <dd>
<span class="refAuthor">Low, S.</span> and <span class="refAuthor">B. Kolera</span>, <span class="refTitle">"DataRight+: Admission Control Baseline"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-admission-control-baseline/draft-authors-datarightplus-admission-control-00/draft-authors-datarightplus-admission-control.html">https://datarightplus.github.io/datarightplus-admission-control-baseline/draft-authors-datarightplus-admission-control-00/draft-authors-datarightplus-admission-control.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-DISCOVERY-V1-01">[DATARIGHTPLUS-DISCOVERY-V1-01]</dt>
      <dd>
<span class="refAuthor">Low, S.</span>, <span class="refTitle">"DataRight+: Provider Discovery V1"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-discovery-v1/draft-authors-datarightplus-discovery-v1-01/draft-authors-datarightplus-discovery-v1.html">https://datarightplus.github.io/datarightplus-discovery-v1/draft-authors-datarightplus-discovery-v1-01/draft-authors-datarightplus-discovery-v1.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-INFOSEC-BASELINE">[DATARIGHTPLUS-INFOSEC-BASELINE]</dt>
      <dd>
<span class="refAuthor">Low, S.</span>, <span class="refTitle">"DataRight+ Security Profile: Baseline"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-infosec-baseline/draft-authors-datarightplus-infosec-baseline.html">https://datarightplus.github.io/datarightplus-infosec-baseline/draft-authors-datarightplus-infosec-baseline.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-REDOCLY-ID2">[DATARIGHTPLUS-REDOCLY-ID2]</dt>
      <dd>
<span class="refAuthor">Low, S.</span>, <span class="refAuthor">Kolera, B.</span>, and <span class="refAuthor">W. Cai</span>, <span class="refTitle">"DataRight+: Redocly (ID2)"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-redocly/?v=ID2">https://datarightplus.github.io/datarightplus-redocly/?v=ID2</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-ROSETTA">[DATARIGHTPLUS-ROSETTA]</dt>
      <dd>
<span class="refAuthor">Low, S.</span>, <span class="refTitle">"DataRight+ Rosetta Stone"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-rosetta/draft-authors-datarightplus-rosetta.html">https://datarightplus.github.io/datarightplus-rosetta/draft-authors-datarightplus-rosetta.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DATARIGHTPLUS-SHARING-ARRANGEMENT-V1-00">[DATARIGHTPLUS-SHARING-ARRANGEMENT-V1-00]</dt>
      <dd>
<span class="refAuthor">Low, S.</span> and <span class="refAuthor">B. Kolera</span>, <span class="refTitle">"DataRight+: Sharing Arrangement V1"</span>, <span>&lt;<a href="https://datarightplus.github.io/datarightplus-sharing-arrangement-v1/draft-authors-datarightplus-sharing-arrangement-v1-00/draft-authors-datarightplus-sharing-arrangement-v1.html">https://datarightplus.github.io/datarightplus-sharing-arrangement-v1/draft-authors-datarightplus-sharing-arrangement-v1-00/draft-authors-datarightplus-sharing-arrangement-v1.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="FAPI-GRANT-MANAGEMENT">[FAPI-GRANT-MANAGEMENT]</dt>
      <dd>
<span class="refAuthor">Hardt, D.</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework"</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://openid.net/specs/fapi-grant-management.html">https://openid.net/specs/fapi-grant-management.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
    <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stuart Low</span></div>
<div dir="auto" class="left"><span class="org">Biza.io</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:stuart@biza.io" class="email">stuart@biza.io</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ben Kolera</span></div>
<div dir="auto" class="left"><span class="org">Biza.io</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bkolera@biza.io" class="email">bkolera@biza.io</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
